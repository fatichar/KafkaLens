<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:KafkaLens.ViewModels;assembly=KafkaLens.ViewModels"
             x:Class="AvaloniaApp.Views.TopicConfigView"
             x:DataType="vm:OpenedClusterViewModel">
    <StackPanel Margin="20" Spacing="10">
        <TextBlock Text="Topic Configuration" FontSize="18" FontWeight="Bold"/>

        <Grid ColumnDefinitions="Auto, *" RowDefinitions="Auto, Auto, Auto, Auto" Margin="0,10,0,0">
            <Label Grid.Row="0" Grid.Column="0" Content="Topic Name:" VerticalAlignment="Center" Margin="0,0,10,0"/>
            <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding SelectedNode.Name}" VerticalAlignment="Center"/>

            <Label Grid.Row="1" Grid.Column="0" Content="Key Formatter:" VerticalAlignment="Center" Margin="0,10,10,0"/>
            <ComboBox Grid.Row="1" Grid.Column="1" Margin="0,10,0,0" HorizontalAlignment="Stretch"
                      ItemsSource="{Binding KeyFormatterNames}"
                      SelectedItem="{Binding ((vm:IMessageSource)SelectedNode).KeyFormatterName}"/>

            <Label Grid.Row="2" Grid.Column="0" Content="Value Formatter:" VerticalAlignment="Center" Margin="0,10,10,0"/>
            <ComboBox Grid.Row="2" Grid.Column="1" Margin="0,10,0,0" HorizontalAlignment="Stretch"
                      ItemsSource="{Binding ValueFormatterNames}"
                      SelectedItem="{Binding ((vm:IMessageSource)SelectedNode).FormatterName}"/>

            <CheckBox Grid.Row="3" Grid.Column="1" Content="Apply to every cluster"
                      Margin="0,10,0,0" IsChecked="{Binding ApplyToAllClusters}"/>
        </Grid>

        <Button Content="Save" Command="{Binding SaveTopicSettingsCommand}"
                HorizontalAlignment="Right" Width="100" Margin="0,20,0,0"/>
    </StackPanel>
</UserControl>